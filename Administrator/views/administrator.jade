extends layout

block content

    
    div#user-list(class="panel panel-default")
        div(class="panel-heading")
            div(role="button" data-toggle="collapse" href="#user-list-collapse" aria-expanded="true" aria-controls="user-list-collapse")
                | Users
        div(id="user-list-collapse" class="panel-collapse collapse in")
            div(class="panel-body")
                button(type="button" class="btn" name="add") Add
            div(class="list-group")
            each user, i in users
                - var name = user.email ? user.email : 'null'
                button(type="button" class="list-group-item" name="get" value=user._id) #{name}          
 
    div#dojo-list(class="panel panel-default")
        div(class="panel-heading")
            div(role="button" data-toggle="collapse" href="#dojo-list-collapse" aria-expanded="true" aria-controls="dojo-list-collapse")
                | Dojos
        div(id="dojo-list-collapse" class="panel-collapse collapse in")
            div(class="panel-body")
                button(type="button" class="btn" name="add") Add
            div(class="list-group")
            each dojo, i in dojos
                - var name = dojo.name ? dojo.name : 'null'
                button(type="button" class="list-group-item" name="get" value=dojo._id) #{name}

     div#user-dialog(class="modal" tabindex="-1" role="dialog")
        div(class="modal-dialog" role="document")
            div(class="modal-content")
                div(class="modal-header")
                    button(type="button" class="close" data-dismiss="modal")
                        span &times
                    h4(class="modal-title") User
                div(class="modal-body")                      
                    form(role="form")
                        div(class="form-group")
                            label(style="width:100%") Email:
                                input(class="form-control" style="font-weight:normal" type="email", name="email" placeholder="email") 
                        div(class="form-group")
                            label(style="width:100%") Password:
                                input(class="form-control" style="font-weight:normal" type="text", name="password" placeholder="password")                     
                        div(class="form-group")
                        div(style="font-weight:bold") Dojos:
                        each dojo, i in dojos
                            div(class="checkbox")
                                label
                                    - var name = dojo.name ? dojo.name : 'null'
                                    input(type="checkbox" name="dojos[]" value=dojo._id) 
                                    | #{name} 
                div(class="modal-footer")
                    button(type="button" class="btn btn-danger pull-left" data-dismiss="modal" value="remove") Delete
                    button(type="button" class="btn btn-primary" data-dismiss="modal" value="ok") OK
                    button(type="button" class="btn btn-default" data-dismiss="modal" value="cancel") Cancel

     div#dojo-dialog(class="modal" tabindex="-1" role="dialog")
        div(class="modal-dialog" role="document")
            div(class="modal-content")
                div(class="modal-header")
                    button(type="button" class="close" data-dismiss="modal")
                        span &times
                    h4(class="modal-title") Dojo
                div(class="modal-body")                      
                    form(role="form")
                        div(class="form-group")
                            label(style="width:100%") Name:
                                input(class="form-control" style="font-weight:normal" type="text", name="name" placeholder="name") 
                 div(class="modal-footer")
                    button(type="button" class="btn btn-danger pull-left" data-dismiss="modal" value="remove") Delete
                    button(type="button" class="btn btn-primary" data-dismiss="modal" value="ok") OK
                    button(type="button" class="btn btn-default" data-dismiss="modal" value="cancel") Cancel

    script(src='/javascripts/ajax_gateway.js')
    script(src='/javascripts/dialog.js')
    script(src='/javascripts/list.js')
    script.
      
        $(document).ready(function () {

            new List('#dojo-list', '#dojo-dialog', '/dojos/');
            
            new List('#user-list', '#user-dialog', '/users/');
 
        });


